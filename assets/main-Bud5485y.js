import{c as b,r as i,a as n,g as o,H as w,U as P,b as l,P as f,F as p,L as m}from"./render-CxHLvrfA.js";const S=e=>{const{subscribe:g,notify:a}=b(),s="/front_5th_chapter1-2/",u=r=>{const t=r.replace(s,"")||"/";return console.log("cleanPath",t),t.startsWith("/")?t:`/${t}`},c=()=>u(window.location.pathname),h=()=>e[c()],d=r=>{const t=`${s}${r.startsWith("/")?r.slice(1):r}`;window.history.pushState(null,null,t),a()};return window.addEventListener("popstate",()=>a()),{get path(){return c()},push:d,subscribe:g,getTarget:h}};i.set(S({"/":w,"/login":()=>{const{loggedIn:e}=o.getState();if(e)throw new p;return l(m,null)},"/profile":()=>{const{loggedIn:e}=o.getState();if(!e)throw new P;return l(f,null)}}));function E(){i.get().subscribe(n),o.subscribe(n),n()}E();
