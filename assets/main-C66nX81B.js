import{c as h,r as c,a as r,g as n,H as b,U as w,b as i,P as p,F as P,L as f}from"./render-CxHLvrfA.js";const m=e=>{const{subscribe:u,notify:s}=h(),t="/",o=()=>window.location.pathname.replace(t,"/");console.log("getPath",o());const a=()=>e[o()];console.log("getTarget",a());const d=l=>{const g=t.endsWith("/")?t.slice(0,-1):t;console.log("push",`${g}${l}`),window.history.pushState(null,null,`${g}${l}`),s()};return window.addEventListener("popstate",()=>s()),{get path(){return o()},push:d,subscribe:u,getTarget:a}};c.set(m({"/":b,"/login":()=>{const{loggedIn:e}=n.getState();if(e)throw new P;return i(f,null)},"/profile":()=>{const{loggedIn:e}=n.getState();if(!e)throw new w;return i(p,null)}}));function S(){c.get().subscribe(r),n.subscribe(r),r()}S();
