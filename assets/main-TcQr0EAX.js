import{c as h,r as g,a as r,g as n,H as d,U as b,b as l,P as w,F as f,L as p}from"./render-CxHLvrfA.js";const P=e=>{const{subscribe:u,notify:s}=h(),o=()=>{const t=window.location.pathname;return console.log("fullPath",t),t};console.log("getPath",o());const c=()=>e[o()],i=t=>{const a=t;console.log("push",a),window.history.pushState(null,null,a),s()};return window.addEventListener("popstate",()=>s()),{get path(){return o()},push:i,subscribe:u,getTarget:c}};g.set(P({"/":d,"/login":()=>{const{loggedIn:e}=n.getState();if(e)throw new f;return l(p,null)},"/profile":()=>{const{loggedIn:e}=n.getState();if(!e)throw new b;return l(w,null)}}));function m(){g.get().subscribe(r),n.subscribe(r),r()}m();
