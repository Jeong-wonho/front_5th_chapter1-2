import{c as p,r as l,a as n,g as o,H as w,U as b,b as i,P as f,F as P,L as m}from"./render-BzRn5YL4.js";const S=(e,r="/")=>{const{subscribe:c,notify:a}=p(),g=t=>t.replace(r,"/").replace(/\/+/g,"/"),s=()=>g(window.location.pathname),u=()=>e[s()],d=t=>{const h=t==="/"?r:`${r}${t}`.replace(/\/+/g,"/");window.history.pushState(null,null,h),a()};return window.addEventListener("popstate",()=>a()),{get path(){return s()},push:d,subscribe:c,getTarget:u}};l.set(S({"/":w,"/login":()=>{const{loggedIn:e}=o.getState();if(e)throw new P;return i(m,null)},"/profile":()=>{const{loggedIn:e}=o.getState();if(!e)throw new b;return i(f,null)}}));function E(){l.get().subscribe(n),o.subscribe(n),n()}E();
