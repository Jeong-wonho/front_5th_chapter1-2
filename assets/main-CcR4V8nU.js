import{c as b,r as l,a as o,g as r,H as h,U as p,b as a,P as w,F as f,L as P}from"./render-CxHLvrfA.js";const m=e=>{const c="/",{subscribe:g,notify:n}=b(),t=()=>window.location.pathname.replace(c,"");console.log("getPath",t());const i=()=>e[t()],u=d=>{const s=d;console.log("push",s),window.history.pushState(null,null,s),n()};return window.addEventListener("popstate",()=>n()),{get path(){return t()},push:u,subscribe:g,getTarget:i}};l.set(m({"/":h,"/login":()=>{const{loggedIn:e}=r.getState();if(e)throw new f;return a(P,null)},"/profile":()=>{const{loggedIn:e}=r.getState();if(!e)throw new p;return a(w,null)}}));function S(){l.get().subscribe(o),r.subscribe(o),o()}S();
