import{c as d,r as i,a as s,g as n,H as b,U as p,b as g,P as w,F as P,L as f}from"./render-CxHLvrfA.js";const m=t=>{const{subscribe:u,notify:r}=d(),e="/";console.log("basePath",e),console.log("Basepath",e.slice(0,-1));const o=()=>window.location.pathname.replace(e,"/");console.log("getPath",o());const a=()=>t[o()];console.log("getTarget",a());const h=l=>{const c=e.endsWith("/")?e.slice(0,-1):e;console.log("push",`${c}${l}`),window.history.pushState(null,null,`${c}${l}`),r()};return window.addEventListener("popstate",()=>r()),{get path(){return o()},push:h,subscribe:u,getTarget:a}};i.set(m({"/":b,"/login":()=>{const{loggedIn:t}=n.getState();if(t)throw new P;return g(f,null)},"/profile":()=>{const{loggedIn:t}=n.getState();if(!t)throw new p;return g(w,null)}}));function S(){i.get().subscribe(s),n.subscribe(s),s()}S();
